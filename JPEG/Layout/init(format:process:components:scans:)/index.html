<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Questrial&display=swap" rel="stylesheet"> 

    <link href="https://kelvin13.github.io/jpeg/style.css" rel="stylesheet"> 
    <title>init(format:process:components:scans:) - Swift JPEG Documentation</title>
</head> 
<body>
    <main><nav><div class="navigation-container"><ul><li class="github-icon-container"><a href="https://github.com/kelvin13/jpeg"><span title="Github repository" class="github-icon"></span></a></li><li><a href="https://kelvin13.github.io/jpeg/">Documentation</a></li><li><a href="https://kelvin13.github.io/jpeg/JPEG">JPEG</a></li><li><a href="https://kelvin13.github.io/jpeg/JPEG/Layout">Layout</a></li><li><span>init(format:process:components:scans:)</span></li></ul></div></nav><section class="introduction"><div class="section-container"><div class="eyebrow">Initializer</div><h1 class="topic-heading">init(format:process:components:scans:)</h1><p class="topic-blurb">Creates an image layout given image parameters and a scan decomposition.</p></div></section><section class="discussion"><div class="section-container"><h2>Declaration</h2><div class="declaration-container"><code class="declaration"><span class="syntax-group"><span class="syntax-keyword">init</span><span class="syntax-punctuation">(</span><span class="syntax-identifier">format</span><span class="syntax-punctuation">:</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Layout">Format</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><span class="syntax-identifier">process</span><span class="syntax-punctuation">:</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG">JPEG</a><span class="syntax-punctuation">.</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Process">Process</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><span class="syntax-identifier">components</span><span class="syntax-punctuation">:</span><a href="https://developer.apple.com/documentation/swift/dictionary" class="syntax-type syntax-swift-type syntax-punctuation">[</a><a href="https://kelvin13.github.io/jpeg/JPEG" class="syntax-type">JPEG</a><span class="syntax-punctuation">.</span><a href="https://kelvin13.github.io/jpeg/JPEG/Component" class="syntax-type">Component</a><span class="syntax-punctuation">.</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Component/Key">Key</a><a class="syntax-type syntax-swift-type syntax-punctuation" href="https://developer.apple.com/documentation/swift/dictionary">:</a><span class="syntax-whitespace">&nbsp;</span><span class="syntax-punctuation">(</span><span class="syntax-identifier">factor</span><span class="syntax-punctuation">:</span><span class="syntax-punctuation">(</span><span class="syntax-identifier">x</span><span class="syntax-punctuation">:</span><a class="syntax-type syntax-swift-type" href="https://developer.apple.com/documentation/swift/int">Int</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><span class="syntax-identifier">y</span><span class="syntax-punctuation">:</span><a href="https://developer.apple.com/documentation/swift/int" class="syntax-type syntax-swift-type">Int</a><span class="syntax-punctuation">)</span><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><span class="syntax-identifier">qi</span><span class="syntax-punctuation">:</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG">JPEG</a><span class="syntax-punctuation">.</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Table">Table</a><span class="syntax-punctuation">.</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Table/Quantization">Quantization</a><span class="syntax-punctuation">.</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Table/Quantization/Key">Key</a><span class="syntax-punctuation">)</span><a class="syntax-type syntax-swift-type syntax-punctuation" href="https://developer.apple.com/documentation/swift/dictionary">]</a><span class="syntax-punctuation">,</span> </span><span class="syntax-group"><span class="syntax-identifier">scans</span><span class="syntax-punctuation">:</span><a class="syntax-type syntax-swift-type syntax-punctuation" href="https://developer.apple.com/documentation/swift/array">[</a><a href="https://kelvin13.github.io/jpeg/JPEG" class="syntax-type">JPEG</a><span class="syntax-punctuation">.</span><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Header">Header</a><span class="syntax-punctuation">.</span><a href="https://kelvin13.github.io/jpeg/JPEG/Header/Scan" class="syntax-type">Scan</a><a class="syntax-type syntax-swift-type syntax-punctuation" href="https://developer.apple.com/documentation/swift/array">]</a><span class="syntax-punctuation">)</span></span></code></div><h2>Parameters</h2><dl class="parameter-list"><dt><code>format</code></dt><dd><p>The color format of the image.</p></dd><dt><code>process</code></dt><dd><p>The coding process used by the image.</p></dd><dt><code>components</code></dt><dd><p>The sampling factors and quantization table key for each component in the image. This dictionary must contain an entry for every component in the given color <code>format</code>.</p></dd><dt><code>scans</code></dt><dd><p>The scan progression of the image.</p></dd></dl><h2>Overview</h2><p>If the image coding process is a sequential process, the given scan headers should be constructed using the <code><span class="syntax-group"><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Header/Scan/sequential%28dot-dot-dot-%3A%29">sequential(...:)</a></span></code> constructor. If the coding process is progressive, the scan headers should be constructed with the <code><span class="syntax-group"><a href="https://kelvin13.github.io/jpeg/JPEG/Header/Scan/progressive%28dot-dot-dot-%3Abits%3A%29" class="syntax-type">progressive(...:bits:)</a></span></code>, <code><span class="syntax-group"><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Header/Scan/progressive%28dot-dot-dot-%3Abit%3A%29">progressive(...:bit:)</a></span></code>, <code><span class="syntax-group"><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Header/Scan/progressive%28_%3Aband%3Abits%3A%29">progressive(_:band:bits:)</a></span></code>, or <code><span class="syntax-group"><a href="https://kelvin13.github.io/jpeg/JPEG/Header/Scan/progressive%28_%3Aband%3Abit%3A%29" class="syntax-type">progressive(_:band:bit:)</a></span></code> constructors.</p><p>This initializer will validate the scan progression and attempt to generate a sequence of table definitions to implement the quantization table relationships specified by the <code>components</code> parameter. It will suffer a precondition failure if the scan progression is invalid, or if it is impossible to implement the specified table relationships with the number of table selectors available for the given coding process.</p><p>This initializer will normalize all scan headers passed to the <code>scans</code> argument. It will strip non-recognized components from the headers, and rearrange their component descriptors in ascending numeric order. It will also validate the scan headers against the <code>process</code> argument with <code><span class="syntax-group"><a class="syntax-type" href="https://kelvin13.github.io/jpeg/JPEG/Header/Scan/validate%28process%3Aband%3Abits%3Acomponents%3A%29">validate(process:band:bits:components:)</a></span></code>. Passing invalid scan headers will result in a precondition failure. See the <a href="https://github.com/kelvin13/jpeg/tree/master/examples#advanced-encoding" target="_blank">advanced encoding</a> library tutorial to learn more about the validation rules.</p></div></section></main>
</body>
</html>